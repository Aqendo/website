---
title: "Сделал бота для автосохранения музыки"
date: 2023-03-09T17:23:38Z
---

## С чего всё началось

Всё началось с того, что я завёл ТГ-канал, куда грузил свою любимую музыку в MP3-формате

Далее я написал [@yamusaqbot](/projects/#%D0%B1%D0%BE%D1%82-%D0%B4%D0%BB%D1%8F-%D1%81%D0%BA%D0%B0%D1%87%D0%B8%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%82%D1%80%D0%B5%D0%BA%D0%BE%D0%B2-%D1%81-%D1%8F%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B8) с помощью которого и грузил музыку туда

## Проблема

Я заметил, что каждую лайкнутую песню я скидываю в тот канал и почему бы не автоматизировать этот процесс, ведь в любом случае у меня уже есть бот для скачивания музыки

## Решение

Так как у меня были исходники своего же музыкального бота, я скопировал оттуда большую часть кода и подкорректировал его, чтобы он скидывал сам.

### Алгоритм

- Делает запрос к Я.Музыке (получает список лайкнутых песен)
- Проверяет дату и время когда трек был лайкнут
- Если он нашёл что-то лайкнутое позже, чем последний сохранённый им трек, то скачивает его
- Profit!